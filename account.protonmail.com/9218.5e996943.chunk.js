"use strict";(self.webpackChunkproton_account=self.webpackChunkproton_account||[]).push([[9218],{69218:function(e,a,n){n.r(a),n.d(a,{default:function(){return phone_PhoneInput}});var r=n(45133),t=n(16701),o=n(66204),i=n(75763),s=n(24365),l=n(75541),u=n(39892),c=n(81795),d=n(80269),C=n(1118),h=n(77699),y=n(68173);const m=n(43307),g=m.keys().reduce(((e,a)=>(e[a]=()=>m(a),e)),{}),S={1:[{countryCode:"CA",areaCodes:["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]},{countryCode:"DO",areaCodes:["809","829","849"]},{countryCode:"PR",areaCodes:["787","939"]},{countryCode:"JM",areaCodes:["876","658"]},{countryCode:"AS",areaCodes:["684"]},{countryCode:"AI",areaCodes:["264"]},{countryCode:"AG",areaCodes:["268"]},{countryCode:"BS",areaCodes:["242"]},{countryCode:"BB",areaCodes:["246"]},{countryCode:"BM",areaCodes:["441"]},{countryCode:"VG",areaCodes:["284"]},{countryCode:"KY",areaCodes:["345"]},{countryCode:"DM",areaCodes:["767"]},{countryCode:"GD",areaCodes:["473"]},{countryCode:"GU",areaCodes:["671"]},{countryCode:"MS",areaCodes:["664"]},{countryCode:"MP",areaCodes:["670"]},{countryCode:"KN",areaCodes:["869"]},{countryCode:"LC",areaCodes:["758"]},{countryCode:"VC",areaCodes:["784"]},{countryCode:"SX",areaCodes:["721"]},{countryCode:"TT",areaCodes:["868"]},{countryCode:"TC",areaCodes:["649"]},{countryCode:"VI",areaCodes:["340"]}],7:[{countryCode:"KZ",areaCodes:["33","7"]}],39:[{countryCode:"VA",areaCodes:["06698"]}],44:[{countryCode:"GG",areaCodes:["1481","7781","7839","7911"]},{countryCode:"IM",areaCodes:["1624","74576","7524","7924","7624"]},{countryCode:"JE",areaCodes:["1534","7509","7700","7797","7829","7937"]}],47:[{countryCode:"SJ",areaCodes:["79"]}],61:[{countryCode:"CC",areaCodes:["89162"]},{countryCode:"CX",areaCodes:["89164"]}],212:[{countryCode:"EH",areaCodes:["5288","5289"]}],262:[{countryCode:"YT",areaCodes:["269","639"]}],358:[{countryCode:"AX",areaCodes:["18"]}],599:[{countryCode:"BQ",areaCodes:["3","4","7"]}]},f={AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Åland Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthélemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaçao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Burma",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"},getTrimmedString=e=>{const a=(e.match(/\([\d]+$/)?e.slice(0,-1):e).replace(/[^0-9+]+/g,"");return a.length?a[0]+a.slice(1).replace(/\+/g,""):""},getSafeCountryCallingCode=e=>{try{return(0,s.G)(e)}catch(e){return""}},getCountryFromCallingCode=e=>{const a=C.qK[e];if(a&&0!==a.length)return a.length,a[0]},getNumberWithCountryCode=(e,a)=>e.includes("+")?e:a?"+".concat(a).concat(e):e,getNumberWithoutCountryCode=(e,a)=>e.replace("+".concat(a),"").trim(),getCountries=()=>Object.keys(C.hW).map((e=>{const a=getSafeCountryCallingCode(e),n=f[e],r=(e=>{var a;const n="./".concat(e,".svg");if(g[n])return null===(a=g[n])||void 0===a?void 0:a.call(g)})(e);if(r&&n&&a)return{countryCode:e,countryName:n,countryCallingCode:a,countryFlag:r}})).filter(y.Z).sort(((e,a)=>e.countryName.localeCompare(a.countryName)));var M=n(83157),p=n(18580),b=n(45266),N=n(7084),A=n(42968),I=n(79e3),G=n(99021),v=n(9757),B=n(19924),T=n(44161),w=n(43188);const CountrySelectRow=({data:e,style:a,value:n,onChange:r},t)=>(0,w.jsx)("div",{className:"dropdown-item",style:a,ref:t,role:"row",children:(0,w.jsxs)(T.Z,{isSelected:!1,className:(0,M.dh)(["block w100 text-ellipsis text-left no-outline flex",e===n&&"active"]),title:e.countryName,onClick:()=>{r(e)},children:[(0,w.jsx)("img",{className:"flex-item-noshrink",alt:"",src:e.countryFlag,width:"30",height:"20"}),(0,w.jsx)("span",{className:"flex-item-fluid pl0-5 text-ellipsis",children:e.countryName}),(0,w.jsxs)("span",{className:"flex-item-noshrink text-bold",children:["+",e.countryCallingCode]})]})});var x,P=(0,o.forwardRef)(CountrySelectRow);const j=new A.t1({defaultHeight:100,fixedWidth:!0,keyMapper:()=>0});var phone_CountrySelect=({value:e,options:a,onChange:n,compact:r,onClosed:t})=>{const s=(0,o.useRef)(null),[l,u]=(0,o.useState)(!1),[c,d]=(0,o.useState)(""),C=(0,N.Fv)(c,!0),h=a.filter((({countryName:e})=>(0,N.Fv)(e,!0).includes(C))),y=e?h.indexOf(e):0,m=(0,o.useRef)(!1),handleChange=e=>{n(e),u(!1),m.current=!0};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(G.Z,{as:"button",type:"button",isOpen:l,hasCaret:!r,disabled:r,onClick:()=>{m.current=!1,u(!l)},className:"ml0-5 unstyled inputform-prefix-phone border-right pr0-5",ref:s,caretClassName:"mtauto mbauto","aria-live":"assertive","aria-atomic":"true","aria-label":null==e?void 0:e.countryName,children:[(0,w.jsx)("span",{className:"mr0-5",children:e?(0,w.jsx)("img",{role:"presentation",alt:e.countryName,src:e.countryFlag,width:"30",height:"30",className:"align-middle inline-flex"}):(0,w.jsx)(B.Z,{name:"globe",className:"align-middle inline-flex"})}),!r&&(0,w.jsxs)("span",{className:"min-w3e inline-flex",dir:"ltr",children:["+",e?e.countryCallingCode:"00"]})]}),(0,w.jsxs)(v.Z,{isOpen:l,anchorRef:s,onClose:()=>{m.current=!1,u(!1)},onClosed:()=>{d(""),null==t||t(m.current)},offset:4,autoClose:!1,noCaret:!0,noMaxSize:!0,disableDefaultArrowNavigation:!0,onKeyDown:e=>{const{key:a}=e;switch(a){case"Enter":e.preventDefault(),m.current=!0,u(!1);break;case"ArrowUp":{e.preventDefault();const a=y-1;n(h[Math.max(a,0)]);break}case"ArrowDown":{e.preventDefault();const a=y+1;n(h[Math.min(a,h.length-1)]);break}}},children:[(0,w.jsx)("form",{name:"search",className:"p1",children:(0,w.jsx)(i.Z,{id:"search-keyword",value:c,onValue:d,autoFocus:!0,placeholder:"Country",icon:(0,w.jsx)(B.Z,{name:"magnifying-glass"})})}),(0,w.jsx)("div",{className:"h-custom min-w-custom",style:{"--height-custom":"20em","--min-width-custom":"18em"},children:h.length?(0,w.jsx)(A.qj,{children:({height:a,width:n})=>(0,w.jsx)(A.aV,{height:a,width:n,rowHeight:j.rowHeight,className:"unstyled m0 p0 scroll-if-needed",scrollToIndex:y<0?0:y,rowCount:h.length,rowRenderer:({index:a,key:n,parent:r,style:t})=>(0,w.jsx)(A.Z8,{cache:j,columnIndex:0,rowIndex:a,parent:r,children:({registerChild:r})=>(0,w.jsx)(P,{ref:r,data:h[a],value:e,style:t,onChange:handleChange},n)},n)})}):(0,w.jsx)("div",{className:"pl1",children:(0,I.c)("Info").t(x||(x=(0,b.Z)(["No results found"])))})})]})]})};const E=["value","defaultCountry","compact","onChange","onValue"];function ownKeys(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(n),!0).forEach((function(a){(0,r.Z)(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}var phone_PhoneInput=e=>{let{value:a="",defaultCountry:n="US",compact:r,onChange:s,onValue:C}=e,y=(0,t.Z)(e,E);const m=(0,o.useRef)(null),g=(0,o.useRef)(null),f=(0,o.useRef)(0),[b,N]=(0,o.useState)(Boolean(r)),[A,I]=(0,o.useState)(n),G=getTrimmedString(a),v=(e=>{const a=(0,o.useRef)();return(0,o.useEffect)((()=>{a.current=e}),[e]),a.current})(G),B=getSafeCountryCallingCode(A),T=getNumberWithCountryCode(G,B),x=(e=>{var a;const n=new u.R;n.input(e);const r=n.getNumber();if(r)return r.country||getCountryFromCallingCode(r.countryCallingCode)||"";const t=null===(a=n.getCountry)||void 0===a?void 0:a.call(n);if(t)return t;if(!e.length)return"";if("+"===e[0]){const a=e.slice(1);return getCountryFromCallingCode(a)||""}return""})(T),P=getSafeCountryCallingCode(x),j=getNumberWithoutCountryCode(T,P),[K,R]=((e,a,n)=>{const r=S[a];return r?r.reduce(((a,{countryCode:n,areaCodes:r})=>{const t=r.find((a=>e.startsWith(a)));return t&&t.length>=a[1]?[n,t.length]:a}),[n,0]):[n,0]})(j,P,B===P&&j.length<f.current?A:x),O=getNumberWithoutCountryCode((e=>{const a=(0,l.L)(e,h);return a?a.formatInternational():""})(K),P),L=(e=>{const a=(0,c._)(e);return a&&a.isValid()?a.formatInternational():(0,d.f)(e)})(T).trim(),k=b?L:getNumberWithoutCountryCode(L,P),D=(()=>{if(""===v&&"+"===G)return"";return"+"===v&&""===G&&""===A?n:K||A})();(0,o.useLayoutEffect)((()=>{"+"!==G?(""!==G&&(f.current=R),I(D)):I("")}),[D]),(0,o.useLayoutEffect)((()=>{const e=m.current,a=g.current;if(!e||null===a)return;const n=((e,a)=>{var n;const r=/[\d+]/;let t=0,o=0;for(;o<a.length&&!(a[o].match(r)&&t++>=e);++o);return null!==(n=a[o-1])&&void 0!==n&&n.match(r)||(o-=1),Math.max(0,Math.min(o,a.length))})(a,k);e.selectionStart=n,e.selectionEnd=n,g.current=null}));const F=(0,o.useMemo)((()=>getCountries()),[]),Z=F.find((e=>e.countryCode===D)),[V]=(0,p.Z)();return(0,w.jsx)(i.Z,_objectSpread(_objectSpread({},y),{},{type:"tel",value:k,ref:m,placeholder:O,dir:"ltr",className:(0,M.dh)([V?"text-right":null]),prefix:(0,w.jsx)(phone_CountrySelect,{compact:r,value:Z,options:F,onChange:e=>{f.current=((e,a)=>{var n;return((null===(n=(S[e]||[]).find((e=>a===e.countryCode)))||void 0===n?void 0:n.areaCodes)||[]).reduce(((e,a)=>Math.max(e,a.length)),0)})(getSafeCountryCallingCode(e.countryCode),e.countryCode),N(!1),I(e.countryCode),s("")},onClosed:e=>{var a;e&&(null===(a=m.current)||void 0===a||a.focus())}}),onChange:e=>{const{target:a,target:{value:n}}=e;g.current=getTrimmedString(n.slice(0,a.selectionEnd||0)).length;const r=getTrimmedString(n);N("+"===r[0]);const t=r.length?getNumberWithCountryCode(r,P):"";s(t)}}))}}}]);
//# sourceMappingURL=9218.5e996943.chunk.js.map